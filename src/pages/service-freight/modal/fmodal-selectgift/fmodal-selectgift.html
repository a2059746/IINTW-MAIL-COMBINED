<!--
  Generated template for the FmodalSelectgiftPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>選擇贈品</ion-title>
    <ion-buttons end>
      <button ion-button (click)="closeModal()">Close</button>
    </ion-buttons>
  </ion-navbar>
  <div class="alert alert-danger text-center" role="alert" *ngIf="isWarning">
      您還有 {{ totalGiftAmount - giftsChoosenAmount }} 項贈品未選擇
  </div>
</ion-header>

<ion-content padding>
  <h5 class="text-center m-0 pt-2" *ngIf="!isChooseDone">已選擇 {{giftsChoosenAmount}}/{{totalGiftAmount}} 項</h5>
  <h5 class="text-center text-success m-0 pt-2" *ngIf="isChooseDone">選擇完畢</h5>
  <ion-grid>
    <ion-row class="custom-center" *ngFor="let gift of gifts; index as i">
      <ion-col col-6 text-center>
        {{ gift.FGName }}
      </ion-col>
      <ion-col col-6>
        <div class="input-group">
          <div class="input-group-prepend">
            <button
              [ngClass]="{'btn': true, 'btn-secondary': disableDecInput(i), 'btn-primary': !disableDecInput(i)}"
              type="button"
              (click)="decreaseBox(i)">-</button>
          </div>
          <input
            [(ngModel)]="gift.giftAmount"
            type="text"
            [ngClass]="{'form-control':true, 'text-center': true, 'active-input-style': (gift.giftAmount != 0) || (giftsChoosenAmount != totalGiftAmount) }"
            disabled>
          <div class="input-group-append" id="button-addon4">
            <button
              [ngClass]="{'btn': true, 'btn-secondary': disableIncInput(), 'btn-primary': !disableIncInput()}"
              type="button"
              (click)="increaseBox(i)">+</button>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>

  <div class="mb-3 col-10 mx-auto text-center">
    <button class="btn btn-primary btn-lg" type="button" (click)="submitData()">確定</button>
  </div>

</ion-content>
